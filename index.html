<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  

  

  

  

  

  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Mr.Yang&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Mr.Yang&#39;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mr.Yang&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Mr.Yang's Blog</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/sniu0320" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Mr.Yang's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Do one thing at a time, and do well.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/uncategorized/新装linux配置/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.Yang's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/uncategorized/新装linux配置/" itemprop="url">新装linux系统配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T22:47:26+08:00">
                2018-12-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-12-21T22:56:33+08:00">
                2018-12-21
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="新装linux系统配置"><a href="#新装linux系统配置" class="headerlink" title="新装linux系统配置"></a>新装linux系统配置</h1><h2 id="centos7"><a href="#centos7" class="headerlink" title="centos7"></a>centos7</h2><ul>
<li><p><strong>修改hostname</strong></p>
<pre><code class="python">[root@centos7 ~]$ hostnamectl set-hostname centos7 <span class="comment"># 使用这个命令会立即生效且重启也生效 </span>
</code></pre>
<p>其他版本参考：<a href="https://www.cnblogs.com/zhaojiedi1992/p/zhaojiedi_linux_043_hostname.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhaojiedi1992/p/zhaojiedi_linux_043_hostname.html</a> </p>
</li>
<li><p><strong>升级组件</strong> </p>
<pre><code>yum upgrade 
yum update 
</code></pre></li>
<li><p><strong>安装vim</strong> </p>
<pre><code class="python">yum -y install vim <span class="comment">#默认就能用，不用在替换 </span>
<span class="comment">#yum remove vim </span>
</code></pre>
</li>
<li><p><strong>查看系统版本</strong> </p>
<pre><code class="python">yum update <span class="comment">#升级 </span>
lsb_release -a 
<span class="comment">#如果没有lsb </span>
yum install redhat-lsb -y 
</code></pre>
</li>
</ul>
<h2 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h2><ul>
<li><p><strong>无法使用ifconfig</strong> </p>
<pre><code class="python">sudo apt-get install net-tools 
</code></pre>
</li>
<li><p><strong>软件升级</strong> </p>
<pre><code class="python">sudo apt-get update <span class="comment"># 升级安装包相关的命令,刷新可安装的软件列表(但是不做任何实际的安装动作) </span>
sudo apt-get upgrade <span class="comment"># 进行安装包的更新(软件版本的升级) </span>
sudo apt-get dist-upgrade <span class="comment"># 进行系统版本的升级(Ubuntu版本的升级) </span>
sudo do-release-upgrade <span class="comment"># Ubuntu官方推荐的系统升级方式,若加参数-d还可以升级到开发版本,但会不稳定 </span>
</code></pre>
</li>
<li><strong>vi下删除键和上下左右键的异常解决</strong> <pre><code class="python"><span class="comment"># 下载完整vim即可解决： </span>
sudo apt-get remove vim-common 
sudo apt-get install vim-gtk <span class="comment">#安装vim </span>
</code></pre>
</li>
<li><strong>开启ssh</strong> <pre><code class="python">sudo apt-get update <span class="comment">#更新源列表 </span>
sudo apt-get install openssh-server <span class="comment">#安装openssh-server </span>
sudo ps -e |grep ssh <span class="comment">#查看ssh服务是否启动，有sshd说明已经启动，如果没有启动，输入"sudo service ssh start"启动。 </span>
</code></pre>
</li>
<li><strong>查看系统版本</strong> <pre><code class="python">lsb_release -a 
</code></pre>
</li>
</ul>
<h2 id="添加新用户"><a href="#添加新用户" class="headerlink" title="添加新用户"></a>添加新用户</h2><blockquote>
<p>centos7</p>
</blockquote>
<ul>
<li><p><strong>禁止root账号登陆</strong></p>
<pre><code class="python">$ vi /etc/ssh/sshd.conf <span class="comment">#ssh服务的配置文件，直接修改 </span>
PermitRootLogin no <span class="comment">#找到这一行，并将其改为 no </span>
保存退出 
$ systemctl restart sshd <span class="comment">#重启一下sshd服务 </span>
</code></pre>
</li>
<li><p><strong>创建用户并授权</strong> </p>
<pre><code class="python">$ adduser sss <span class="comment">#创建用户sss </span>
$ passwd sss <span class="comment">#创建sss的密码 </span>
$ chmod -v u+w /etc/sudoers   <span class="comment">#增加 sudoers 文件的写的权限，默认为只读 </span>
$ vi /etc/sudoers <span class="comment">#修改 sudoers </span>
root    ALL=(ALL)       ALL 
sss    ALL=(ALL)       ALL <span class="comment">#添加这一行 </span>
保存，退出 
$ chmod -v u-w /etc/sudoers <span class="comment">#删除 sudoers 的写的权限# </span>
</code></pre>
</li>
</ul>
<h2 id="安装zsh-oh-my-zsh"><a href="#安装zsh-oh-my-zsh" class="headerlink" title="安装zsh  oh-my-zsh"></a>安装zsh  oh-my-zsh</h2><ul>
<li><p><strong>查看当前安装了多少shell</strong> </p>
<pre><code class="python">cat /etc/shells 
</code></pre>
</li>
<li><p><strong>确认当前shell</strong> </p>
<pre><code class="python">echo $SHELL 
</code></pre>
</li>
<li><strong>安装zsh</strong> <pre><code class="python">sudo apt-get install zsh 
</code></pre>
</li>
<li><strong>切换zsh</strong> <pre><code class="python">chsh -s `which zsh` <span class="comment">#之后注销重新登录 </span>
chsh -s /bin/zsh 
<span class="comment"># 切回bash </span>
chsh -s /bin/bash 
</code></pre>
</li>
<li><strong>安装oh-my-zsh</strong><br><a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">https://github.com/robbyrussell/oh-my-zsh</a> <pre><code class="python"><span class="comment">#使用curl方式安装： </span>
sh -c <span class="string">"$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"</span> 
</code></pre>
</li>
<li><strong>配置主题</strong><br>配置主题, 可以通过修改~/.zshrc中的环境变量ZSH_THEME来完成 <pre><code class="python">ZSH_THEME=<span class="string">"robbyrussell"</span> <span class="comment">#默认主题，简洁但是不显示路径 </span>
</code></pre>
更换agnoster主题： <pre><code class="python">ZSH_THEME=<span class="string">"agnoster"</span> <span class="comment">#这个主题需要Powerline字体 </span>
</code></pre>
powerline字体安装：<br><a href="https://github.com/powerline/fonts" target="_blank" rel="noopener">https://github.com/powerline/fonts</a> <pre><code class="python">git clone https://github.com/powerline/fonts.git 
cd fonts 
./install.sh 
</code></pre>
</li>
<li><strong>隐藏[user@hostname]</strong> <pre><code class="python">在~/.zshrc中添加 
DEFAULT_USER=<span class="string">"username"</span> <span class="comment">#ssh的时候没用？ </span>
</code></pre>
</li>
<li><strong>配置插件</strong><br>推荐一：（zsh-autosuggestions历史命令智能提示插件） <pre><code class="python">git clone https://github.com/zsh-users/zsh-autosuggestions.git $ZSH_CUSTOM/plugins/zsh-autosuggestions 
</code></pre>
推荐二：（zsh-syntax-highlighting命令行代码高亮插件） <pre><code class="python">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $ZSH_CUSTOM/plugins/zsh-syntax-highlighting 
</code></pre>
插件生效 <pre><code class="python">vim ~/.zshrc 
plugins=( 
git 
zsh-autosuggestions 
zsh-syntax-highlighting 
) 
</code></pre>
<h2 id="vim插件：vimplus安装"><a href="#vim插件：vimplus安装" class="headerlink" title="vim插件：vimplus安装"></a>vim插件：vimplus安装</h2></li>
<li><strong>vimplus(在当前用户下安装只能在当前用户使用)</strong><br>安装之后vim更新为8.1 <pre><code class="python">git clone https://github.com/chxuan/vimplus.git ~/.vimplus 
cd ~/.vimplus 
./install.sh 
</code></pre>
参考：<a href="https://github.com/chxuan/vimplus" target="_blank" rel="noopener">https://github.com/chxuan/vimplus</a> </li>
<li><strong>安装jedi</strong><br>YCM对python的只是需要安装jedi <pre><code class="python">pip install jedi 
</code></pre>
</li>
<li><strong>补充vim插件</strong><br>编辑.vimrc，增加下列插件，并安装 <pre><code class="python">Plug <span class="string">'Yggdroot/indentLine'</span> <span class="string">"缩进指示线 </span>
<span class="string">Plug 'tell-k/vim-autopep8' "</span>需要pip install autopep8 
</code></pre>
</li>
<li><strong>YouCompleteMe</strong><br>假如一些正常的话，等上面的命令执行完毕之后就算是完成了，但是很多时候，会在下载YouCompleteMe出错，这里需要手动的单独去安装这个插件<br>vimplus安装时需要访问外国网站，由于网络原因，可能会失败，安装成功也要1个多小时，ycm插件有200M左右，下载比较耗时，这里有下载好的YouCompleteMe.tar.gz文件<br>下载后解压到~/.vim/plugged/目录，并进入YouCompleteMe目录，linux用户执行./install.py —clang-completer，mac用户执行./install.py —clang-completer —system-libclang即可安装。 <pre><code class="python">rm -rf ~/.vim/plugged/YouCompleteMe 
cd ~/.vim/plugged 
<span class="comment">#解压到此目录下 </span>
cd YouCompleteMe 
./install.py --clang-completer 
</code></pre>
</li>
<li>备注：jedi-vim插件 <pre><code class="python">git clone --recursive https://github.com/davidhalter/jedi-vim.git ~/.vim/plugged/jedi-vim 
Plug <span class="string">'davidhalter/jedi-vim'</span> <span class="string">"有YCM这个不用 </span>
</code></pre>
<h2 id="linux-文件修改所有者-用户组"><a href="#linux-文件修改所有者-用户组" class="headerlink" title="linux 文件修改所有者/用户组"></a>linux 文件修改所有者/用户组</h2></li>
<li><strong>1. linux下修改文件用户组</strong><br>chgrp： change group的简写，修改文件所属的用户组 <pre><code class="vim">chgrp users test.<span class="built_in">log</span> 
</code></pre>
修改后查看 ls -l <pre><code class="vim">-rwxrwx--- <span class="number">1</span> work users <span class="number">0</span> Jun <span class="number">8</span> <span class="number">15</span>:<span class="number">46</span> test.<span class="built_in">log</span> 
</code></pre>
如果要修改该目录下所有文件和目录，使用-R参数 <pre><code class="vim">chgrp -R users test 
</code></pre>
要被改变的group名，必须在 /etc/group 文件中。<br>/etc/group文件记录系统中所有的组名称。 </li>
<li><strong>2. linux下修改文件所有者</strong><br>chown ：change owner的简写， 修改文件的所有者 <pre><code class="vim">chown [-R] 账号名称 文件或目录 
</code></pre>
-R 递归，将子目录下文件全部修改。<br>将文件所有者修改bin <pre><code class="vim">chown bin test.<span class="built_in">log</span> 
</code></pre>
修改的用户必须在/etc/passwd文件中<br>/etc/passwd记录用户信息。<br>chown还可以修改组名称 <pre><code class="vim">chown roo<span class="variable">t:root</span> test.<span class="built_in">log</span> 
</code></pre>
将所有者和组名称都修改为root。 </li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/鸡汤/转载-真正厉害的人，早已戒掉了情绪/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.Yang's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/鸡汤/转载-真正厉害的人，早已戒掉了情绪/" itemprop="url">[转载]真正厉害的人，早已戒掉了情绪</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-20T23:13:37+08:00">
                2018-12-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-12-20T23:33:35+08:00">
                2018-12-20
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/鸡汤/" itemprop="url" rel="index">
                    <span itemprop="name">鸡汤</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="真正厉害的人，早已戒掉了情绪"><a href="#真正厉害的人，早已戒掉了情绪" class="headerlink" title="真正厉害的人，早已戒掉了情绪"></a>真正厉害的人，早已戒掉了情绪</h1><p>戒掉情绪，你就成功了一半。</p>
<p>01</p>
<p>都说成年人的世界，没有“容易”二字，连发泄情绪都要排个队。</p>
<p>工作上，遇到难题要想办法解决；生活上，孩子哭了要想办法逗乐；父母面前，需要你照顾的时候要想尽办法有求必应。</p>
<p>你不能在孩子嚎啕大哭的时候，跟着孩子一起哭，更不能在父母需要你的时候，丧气落泪。</p>
<p><strong>只有把这一切安顿之后，才能抽空发泄自己的情绪。</strong></p>
<p>对此我也深有体会，熟悉我的朋友会发现，我几乎不发朋友圈。</p>
<p>因为朋友圈不再是那个可以随时抒发心情的地方，就算实在想发，也要设置分组，认真思考，仔细筛选。如此麻烦，不如不发。</p>
<p>但是，在我看来，成年人小心翼翼的崩溃， <strong>除了身不由己，更多的其实是时间有限</strong> ，尤其是事业有成的成功人士，发泄情绪都得掐秒表。</p>
<p>自媒体人柳主任在一篇文章中提到，自从创业以来，自己已经戒掉了情绪，或者说变得特别克制自己不要放大负面情绪，不自怜，不沉浸在无用的情绪之中。她说：</p>
<p>印象中崩溃大哭的时候，三年多来只有三次。并且最近一次我还是定了个秒表，哭三分钟继续去干活。</p>
<p>在这样“一堆工作等着推进，客户等着约见”的工作节奏里，根本没时间崩溃，只能以最快的速度收拾好自己的情绪，继而干劲满满地投入工作。</p>
<p>普通人可能不理解这样的发泄方式，但这的确是许多牛人的真实写照。</p>
<p>大家熟知的演员杨幂，也是这样一个人，曾经被黑的体无完肤，最终却越挫越勇，稳坐当红花旦的位置。</p>
<p>在一次访谈中，她说：</p>
<p>我是一个对自己挺狠的人。而“被狠掉”的第一条，是情绪。“我早把情绪戒掉了”，就是和自己死磕，对自己下命令。</p>
<p>有一次，有件事让我很生气，我对自己说，给你二十四小时的时间，你必须把这件事压下去。这一天，什么都不做，让自己过去。</p>
<p>“杀不死我的只会让我更强大”，她用行动践行了这个道理。这样的姑娘，得到什么都不足为奇。</p>
<p>想起稻盛和夫说过的一句话：“ <strong>成功不要无谓的情绪。</strong> ”</p>
<p>深以为然。</p>
<p>02</p>
<p>为什么成功要戒掉情绪？ <strong>因为情绪会影响注意力，缺乏专注，工作效率就大打折扣</strong> 。</p>
<p>美国心理学家特瑞斯曼教授指出：“不专注时，人们只能对事物的个别特征进行初步加工；而在专注的情况下，则能精细加工，并将其整合为一个整体。也就是说，只有在专注的情况下，我们才能成功地完成手上的任务。”</p>
<p>心理学家齐克森米哈里在《心流：最佳体验的心理学》一书中提到这样一个案例：</p>
<p>在荷兰一家医院里，有一名患有精神分裂症的女性患者，住院已超过10年，思路不清、病况严重，一直以来都情绪淡漠。</p>
<p>医生在对她的跟踪记录里发现，她曾出现过两次情绪高亢的时候，而且正巧都是在修剪指甲时。</p>
<p>于是医生找来专业人员教她修剪指甲的相关技巧，而她也十分热衷于学习。</p>
<p>没过多久，她就开始替病友修整指甲。此后，她的性格发生了180度转变，没多久就出院了。</p>
<p>后来，她在家门口开了一家店，挂起招牌，不到一年就能自力更生了。</p>
<p>这个案例说明， <strong>把注意力投入在一件喜爱的事情上，是有疗愈功效的。它能让原本趋于混乱的精神能量变得有秩序，让人重拾生活的热情和意义</strong> 。</p>
<p>这就是 <strong>心流</strong> 的力量。</p>
<p><strong>心流，是一种将个人的精神力，完全投注在某种活动上的感觉</strong> 。</p>
<p>心流产生时，会有高度的兴奋及充实感，会感到内心的纯净，对手头任务充满自信。</p>
<p>同时很难感觉到时间的流逝，等到结束时发现几个小时已经过去了。</p>
<p><strong>当一个人处在心流的状态下，大脑活动的方式，会体现出高效率和准确性，耗费的能量也较少。</strong></p>
<p>然而， <strong>激发心流的重要条件之一，就是要做到专注</strong> 。</p>
<p>如果注意力被负面情绪分走了一大半，就不可能产生这种体验。当然，这里说的情绪主要指的是负面情绪。</p>
<p>可见， <strong>戒掉负面情绪，你就成功了一半。</strong></p>
<p>03</p>
<p>人生在世，难免有这样那样的负面情绪，保证自己的情绪不受外界的困扰，才能提升专注力，掌控好自己的工作和生活。</p>
<p>那么， <strong>如何才能戒掉自己的负面情绪？</strong></p>
<p>台湾心理咨询师陈志恒介绍了一个方法： <strong>将同理心用在自己身上</strong> 。</p>
<p>他认为，同理心是心理助人中使用较多的一个技巧，即 <strong>在充分理解对方处境的前提下，主动将对方的情绪感受表达出来，让对方知道。</strong></p>
<p>这种方法用于情绪低落、沮丧的人时，往往有相当大的杀伤力。而用在自己身上，也是效果卓然。</p>
<p>因此，当负面情绪袭来时，别急着告诉自己“冷静”，或者“这种情绪不对，我得克服”，而是先找个地方，沉下心来，静静地感受下自己的内心状态，低声对自己说出自己的情绪，告诉自己：</p>
<p><strong>我知道我正在生气/委屈/自卑……谢谢你用这种方式让我知道我的感觉。</strong></p>
<p><strong>不要批判、否定，就只是简简单单地描述。</strong></p>
<p>当你觉察到，并心平气和地接受了自己的负面情绪时，就会发现，你的情绪已经平稳了许多，可以开始冷静地思考了。</p>
<p>因为 <strong>觉察本身，就是一种疗愈</strong> 。</p>
<p>心理学上有个名词叫“ <strong>正念疗法</strong> ”，说的就是这种方法。</p>
<p>用正念来排解负面情绪，其原理就是 <strong>通过有意图的、不带评判的、对当下的关注或觉察来达到目的。</strong></p>
<p>被负面情绪淹没时，试着给自己3分钟不被打扰的时间，把注意力放在呼吸上，发现自己走神时，深吸一口气，同时把注意力带回来，重新放在呼吸上。</p>
<p>不断重复做这个简单的尝试，直到你走神的次数变得越来越少，专注的时间变得越来越长。</p>
<p>坚持这样的练习，不仅能够戒掉情绪，还能敏锐地在第一时间察觉到，自己的注意力是如何飘走的。</p>
<p><strong>戒掉情绪后，你就会收获一个强大的自己。</strong></p>
<p>《一生的资本》里有这样一段话：</p>
<p><strong>任何时候，一个人都不应该做自己情绪的奴隶</strong> ，不应该使一切行动都受制于自己的情绪，而应该反过来控制情绪。</p>
<p>无论境况多么糟糕，你应该努力去支配你的环境，把自己从黑暗中拯救出来。</p>
<p><strong>那些扰乱你的、让你崩溃的、害怕的、恐惧的事情，在你充实的生活和忙碌里，真的不值一提</strong> 。</p>
<p><strong>熬过痛苦的黑夜，天亮后你就是英雄</strong> 。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/linux/CentOS7部署GateOne/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.Yang's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/linux/CentOS7部署GateOne/" itemprop="url">CentOS7部署GateOne</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-15T23:25:05+08:00">
                2018-12-15
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-12-21T22:59:23+08:00">
                2018-12-21
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CentOS7部署GateOne"><a href="#CentOS7部署GateOne" class="headerlink" title="CentOS7部署GateOne"></a>CentOS7部署GateOne</h1><blockquote>
<p>Gate One is an HTML5-powered terminal emulator and SSH client<br><a href="https://github.com/liftoff/GateOne" target="_blank" rel="noopener">官网 https://github.com/liftoff/GateOne</a></p>
</blockquote>
<h2 id="1-下载"><a href="#1-下载" class="headerlink" title="1.下载"></a>1.下载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/liftoff/GateOne.git</span><br></pre></td></tr></table></figure>
<p>or 下载从github下载压缩包，解压缩<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip GateOne-master.zip *#工具：yum install -y unzip zip*</span><br></pre></td></tr></table></figure></p>
<h2 id="2-所需组件"><a href="#2-所需组件" class="headerlink" title="2. 所需组件"></a>2. 所需组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install gcc python-devel </span><br><span class="line">sudo pip install tornado==4.5.3</span><br><span class="line">sudo pip install html5lib</span><br></pre></td></tr></table></figure>
<p>备注：gcc python-devel需要安装；注意回显log，缺少相关包会有错误提示</p>
<h2 id="3-安装"><a href="#3-安装" class="headerlink" title="3. 安装"></a>3. 安装</h2><p>备注：python2.7安装,python3安没成功没注意少什么组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd GateOne-master</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure></p>
<h2 id="4-第一次启动"><a href="#4-第一次启动" class="headerlink" title="4. 第一次启动"></a>4. 第一次启动</h2><p>默认启动只能本地访问，端口443<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gateone</span><br></pre></td></tr></table></figure></p>
<p>启动报错：这是用tornado 5.1.1时的报错，需要更换tornado 4.5.3</p>
<h2 id="5-修改配置"><a href="#5-修改配置" class="headerlink" title="5. 修改配置"></a>5. 修改配置</h2><p>gateone第一次运行后在/etc/gateone下产生配置文件,修改10server.conf<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/gateone/conf.d </span><br><span class="line">vim <span class="number">10</span>server.conf</span><br><span class="line"></span><br><span class="line">// This <span class="keyword">is</span> Gate One<span class="string">'s main settings file.</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    // "gateone" server-wide settings fall under "*"</span></span><br><span class="line"><span class="string">    "*": &#123;</span></span><br><span class="line"><span class="string">        "gateone": &#123; // These settings apply to all of Gate One</span></span><br><span class="line"><span class="string">            "address": "",</span></span><br><span class="line"><span class="string">            "ca_certs": null,</span></span><br><span class="line"><span class="string">            "cache_dir": "/tmp/gateone_cache",</span></span><br><span class="line"><span class="string">            "certificate": "/etc/gateone/ssl/certificate.pem",</span></span><br><span class="line"><span class="string">            "cookie_secret": "NmJmNzQwODRjZjRlNGQ0NGI2NzMwMzZhZDM2NGE0YWYxO",</span></span><br><span class="line"><span class="string">            "debug": false,</span></span><br><span class="line"><span class="string">            "disable_ssl": true, #改为true，不用https</span></span><br><span class="line"><span class="string">            "embedded": true, #改为true，允许嵌入到网站中</span></span><br><span class="line"><span class="string">            "enable_unix_socket": false,</span></span><br><span class="line"><span class="string">            "gid": "0",</span></span><br><span class="line"><span class="string">            "https_redirect": false,</span></span><br><span class="line"><span class="string">            "js_init": "",</span></span><br><span class="line"><span class="string">            "keyfile": "/etc/gateone/ssl/keyfile.pem",</span></span><br><span class="line"><span class="string">            "locale": "en_US",</span></span><br><span class="line"><span class="string">            "log_file_max_size": 100000000,</span></span><br><span class="line"><span class="string">            "log_file_num_backups": 10,</span></span><br><span class="line"><span class="string">            "log_file_prefix": "/var/log/gateone/gateone.log",</span></span><br><span class="line"><span class="string">            "log_rotate_interval": 1,</span></span><br><span class="line"><span class="string">            "log_rotate_mode": "size",</span></span><br><span class="line"><span class="string">            "log_rotate_when": "midnight",</span></span><br><span class="line"><span class="string">            "log_to_stderr": null,</span></span><br><span class="line"><span class="string">            "logging": "info",</span></span><br><span class="line"><span class="string">            "multiprocessing_workers": null,</span></span><br><span class="line"><span class="string">            "origins": ["localhost", "127.0.0.1", "aliyun", "172.31.1.xxx","xxx.xxx.xxx.xxx"], #加入大网ip</span></span><br><span class="line"><span class="string">            "pid_file": "/var/run/gateone.pid",</span></span><br><span class="line"><span class="string">            "port": 8080, #端口号</span></span><br><span class="line"><span class="string">            "session_dir": "/tmp/gateone",</span></span><br><span class="line"><span class="string">            "session_timeout": "5d",</span></span><br><span class="line"><span class="string">            "syslog_facility": "daemon",</span></span><br><span class="line"><span class="string">            "uid": "0",</span></span><br><span class="line"><span class="string">            "unix_socket_mode": "0600",</span></span><br><span class="line"><span class="string">            "unix_socket_path": "/tmp/gateone.sock",</span></span><br><span class="line"><span class="string">            "url_prefix": "/",</span></span><br><span class="line"><span class="string">            "user_dir": "/var/lib/gateone/users",</span></span><br><span class="line"><span class="string">            "user_logs_max_age": "30d"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>备注：gateone 1.2.0版本不再copy文件到/opt/gateone</p>
<h2 id="6-后台运行"><a href="#6-后台运行" class="headerlink" title="6. 后台运行"></a>6. 后台运行</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service gateone start</span><br></pre></td></tr></table></figure>
<h2 id="7-设置开启自启动"><a href="#7-设置开启自启动" class="headerlink" title="7. 设置开启自启动"></a>7. 设置开启自启动</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/rc.d/rc.local</span><br><span class="line">vim /etc/rc.d/rc.local</span><br><span class="line">添加 service gateone start</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/linux/CentOS7部署Nginx/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.Yang's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/linux/CentOS7部署Nginx/" itemprop="url">CentOS7部署Nginx</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-15T20:14:58+08:00">
                2018-12-15
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-12-20T23:33:31+08:00">
                2018-12-20
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CentOS7部署Nginx"><a href="#CentOS7部署Nginx" class="headerlink" title="CentOS7部署Nginx"></a>CentOS7部署Nginx</h1><blockquote>
<p>Nginx是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，并在一个BSD-like 协议下发行。其特点是占有内存少，并发能力强，事实上nginx的并发能力确实在同类型的网页服务器中表现较好，中国大陆使用nginx网站用户有：百度、京东、新浪、网易、腾讯、淘宝等。</p>
</blockquote>
<h2 id="1-安装依赖包"><a href="#1-安装依赖包" class="headerlink" title="1.安装依赖包"></a>1.安装依赖包</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install openssl <span class="comment">#安装openssl库</span></span><br><span class="line">yum install zlib <span class="comment">#安装zlib库</span></span><br><span class="line">yum install pcre <span class="comment">#安装pcre库</span></span><br></pre></td></tr></table></figure>
<h2 id="2-安装Nginx依赖项和Nginx"><a href="#2-安装Nginx依赖项和Nginx" class="headerlink" title="2.安装Nginx依赖项和Nginx"></a>2.安装Nginx依赖项和Nginx</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://nginx.org/packages/centos/<span class="number">7</span>/noarch/RPMS/nginx-release-centos<span class="number">-7</span><span class="number">-0.</span>el7.ngx.noarch.rpm </span><br><span class="line">yum install nginx</span><br></pre></td></tr></table></figure>
<h2 id="3-启动Nginx"><a href="#3-启动Nginx" class="headerlink" title="3.启动Nginx"></a>3.启动Nginx</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service nginx start <span class="comment">#启动Nginx</span></span><br><span class="line">service nginx restart <span class="comment">#重启Nginx</span></span><br></pre></td></tr></table></figure>
<h2 id="4-配置开机启动"><a href="#4-配置开机启动" class="headerlink" title="4.配置开机启动"></a>4.配置开机启动</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/rc.d/rc.local</span><br><span class="line">vim /etc/rc.d/rc.local</span><br><span class="line">添加 service nginx start</span><br></pre></td></tr></table></figure>
<h2 id="5-配置config"><a href="#5-配置config" class="headerlink" title="5.配置config"></a>5.配置config</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/conf.d/default.conf</span><br><span class="line"> </span><br><span class="line">server &#123;</span><br><span class="line">    listen       <span class="number">80</span>;</span><br><span class="line">    server_name  <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>;</span><br><span class="line">    root /root/web/blog; <span class="comment">#nginx的根目录默认/usr/share/nginx/html/下，修改访问目录</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#charset koi8-r;</span></span><br><span class="line">    <span class="comment">#access_log  /var/log/nginx/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /root/web/blog; <span class="comment">#修改访问目录</span></span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    error_page   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /<span class="number">50</span>x.html;</span><br><span class="line">    location = /<span class="number">50</span>x.html &#123;</span><br><span class="line">        root   /root/web/blog; <span class="comment">#修改访问目录</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">    <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">    <span class="comment">#    root           html;</span></span><br><span class="line">    <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">    <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">    <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">    <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># deny access to .htaccess files, if Apache's document root</span></span><br><span class="line">    <span class="comment"># concurs with nginx's one</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">    <span class="comment">#    deny  all;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/python/python-script-处理日志文件/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.Yang's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/python/python-script-处理日志文件/" itemprop="url">python脚本:处理日志文件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-14T20:13:40+08:00">
                2018-12-14
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-12-20T23:33:40+08:00">
                2018-12-20
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="python脚本-处理日志文件"><a href="#python脚本-处理日志文件" class="headerlink" title="python脚本:处理日志文件"></a>python脚本:处理日志文件</h1><blockquote>
<p>实现从设备操作日志中提取命令行信息、简化打印，便于查看、提高效率</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">解析操作日志，提取时间信息和命令行</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">input_any_exit</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        input(<span class="string">"\r\nEnter any key to exit... "</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        sys.exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_file</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"&gt;&gt;&gt;请将操作日志重命名为cmd.log放在当前目录下"</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        input(<span class="string">"Enter any key to continue... "</span>)</span><br><span class="line">        file =<span class="string">"cmd.log"</span></span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(file):</span><br><span class="line">            <span class="keyword">return</span> file</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"&gt;&gt;&gt;Error: 当前目录下未找到%s文件!"</span>%(file))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_file</span><span class="params">(file)</span>:</span></span><br><span class="line">    f =open(file,<span class="string">"r"</span>)</span><br><span class="line">    log =f.read()</span><br><span class="line">    log_list =log.split(<span class="string">'StartTime'</span>)</span><br><span class="line">    list = []</span><br><span class="line">    <span class="keyword">for</span> cmd <span class="keyword">in</span> log_list:</span><br><span class="line">        <span class="comment">#cmd = 'StartTime' + i</span></span><br><span class="line">        re_list=[<span class="string">r'\r\n'</span>,<span class="string">r'\r'</span>,<span class="string">r'\n'</span>]</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> re_list:</span><br><span class="line">            cmd = re.sub(r,<span class="string">""</span>,cmd)</span><br><span class="line">        cmd = cmd + <span class="string">"\n"</span>  <span class="comment"># 在结尾加换行符</span></span><br><span class="line">        <span class="comment">#print(cmd)</span></span><br><span class="line">        list.append(cmd)</span><br><span class="line">    f.close()</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">which_run</span><span class="params">(file)</span>:</span></span><br><span class="line">    print(<span class="string">"a:提取时间戳和命令行"</span>)</span><br><span class="line">    print(<span class="string">"b:提取命令行"</span>)</span><br><span class="line">    num = input(<span class="string">"which one(a/b):"</span>).lower()</span><br><span class="line">    <span class="keyword">if</span> num == <span class="string">'a'</span>:</span><br><span class="line">        run_time(get_file(file),file)</span><br><span class="line">    <span class="keyword">elif</span> num == <span class="string">'b'</span>:</span><br><span class="line">        run_cmd(get_file(file),file)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        which_run(file)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_login</span><span class="params">(list)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        yes_or_no = input(<span class="string">"是否清除'/--- * ----/'信息[y/n]:"</span>).lower()</span><br><span class="line">        <span class="keyword">if</span> yes_or_no == <span class="string">'y'</span>:</span><br><span class="line">            list_new=[]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> list:</span><br><span class="line">                <span class="keyword">if</span> i.find(<span class="string">"/---"</span>) == <span class="number">-1</span>:</span><br><span class="line">                    list_new.append(i)</span><br><span class="line">            <span class="keyword">return</span> list_new</span><br><span class="line">        <span class="keyword">elif</span> yes_or_no == <span class="string">'n'</span>:</span><br><span class="line">            <span class="keyword">return</span> list</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_show</span><span class="params">(list)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        yes_or_no=input(<span class="string">"是否清除show命令[y/n]:"</span>).lower()</span><br><span class="line">        <span class="keyword">if</span> yes_or_no == <span class="string">'y'</span>:</span><br><span class="line">            list_new=[]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> list:</span><br><span class="line">                <span class="keyword">if</span> i.find(<span class="string">"show"</span>) == <span class="number">-1</span>:</span><br><span class="line">                    list_new.append(i)</span><br><span class="line">            <span class="keyword">return</span> list_new</span><br><span class="line">        <span class="keyword">elif</span> yes_or_no == <span class="string">'n'</span>:</span><br><span class="line">            <span class="keyword">return</span> list</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_cmd</span><span class="params">(list,file)</span>:</span></span><br><span class="line">    print(<span class="string">"&gt;&gt;&gt;提取命令行"</span>)</span><br><span class="line">    list_new =delete_login(list)</span><br><span class="line">    list_new =delete_show(list_new)</span><br><span class="line">    time_now = time.strftime(<span class="string">"%Y-%m-%d_%H-%M"</span>, time.localtime())</span><br><span class="line">    filename=file.split(<span class="string">"."</span>)[<span class="number">0</span>]+<span class="string">"_cmd_&#123;&#125;.log"</span>.format(time_now)</span><br><span class="line">    f = open(filename, <span class="string">"w"</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> list_new:</span><br><span class="line">        cmd =i.split(<span class="string">'CMDLine: '</span>)[<span class="number">-1</span>]</span><br><span class="line">        f.write(cmd)</span><br><span class="line">    f.close()</span><br><span class="line">    print(<span class="string">"&gt;&gt;&gt;执行完毕，输出%s"</span>%(filename))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_time</span><span class="params">(list,file)</span>:</span></span><br><span class="line">    print(<span class="string">"&gt;&gt;&gt;提取时间戳和命令行"</span>)</span><br><span class="line">    list_new = delete_login(list)</span><br><span class="line">    list_new = delete_show(list_new)</span><br><span class="line">    time_now = time.strftime(<span class="string">"%Y-%m-%d_%H-%M"</span>, time.localtime())</span><br><span class="line">    filename=file.split(<span class="string">"."</span>)[<span class="number">0</span>]+<span class="string">"_time_&#123;&#125;.log"</span>.format(time_now)</span><br><span class="line">    f = open(filename, <span class="string">"w"</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> list_new:</span><br><span class="line">        mat = re.findall(<span class="string">r"(\d&#123;1,2&#125;:\d&#123;1,2&#125;:\d&#123;1,2&#125;\s\d&#123;1,2&#125;-\d&#123;1,2&#125;-\d&#123;4&#125;)"</span>, i)</span><br><span class="line">        cmd1 =<span class="string">" "</span>.join(mat)</span><br><span class="line">        <span class="comment">#cmd1 =i.split('FlowID:')[0]</span></span><br><span class="line">        cmd2 =i.split(<span class="string">'CMDLine: '</span>)[<span class="number">-1</span>]</span><br><span class="line">        cmd =cmd1+<span class="string">" "</span>+cmd2</span><br><span class="line">        f.write(cmd)</span><br><span class="line">    f.close()</span><br><span class="line">    print(<span class="string">"&gt;&gt;&gt;执行完毕，输出%s"</span>%(filename))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    print(<span class="string">"******** Welcome to use this tool! ********"</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        which_run(check_file())</span><br><span class="line">    <span class="keyword">except</span> (Exception) <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        input_any_exit()</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/python/python3安装/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.Yang's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/python/python3安装/" itemprop="url">python3安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-09T13:54:57+08:00">
                2018-12-09
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-12-20T23:32:14+08:00">
                2018-12-20
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="python3安装"><a href="#python3安装" class="headerlink" title="python3安装"></a>python3安装</h1><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><ul>
<li><p>查看版本： </p>
<pre><code>python --verison 
python3 --version 
</code></pre></li>
<li><p>ubuntu安装：<br>使用deadsnakes，它让安装多个版本更容易 </p>
<pre><code>sudo add-apt-repository ppa:fkrull/deadsnakes 
sudo apt-get update 
sudo apt-get install python3.6 
</code></pre></li>
<li>centos安装：<br>yum不支持，需要下载源码安装 <pre><code class="python"><span class="comment">#安装依赖 </span>
yum -y groupinstall <span class="string">"Development tools"</span> 
yum -y install zlib-devel openssl-devel 
<span class="comment">#一个比较重要的包（不装的话，python3.7安装会报错） </span>
yum install libffi-devel -y 
<span class="comment">#下载 </span>
wget https://www.python.org/ftp/python/<span class="number">3.7</span><span class="number">.1</span>/Python<span class="number">-3.7</span><span class="number">.1</span>.tar.xz 
<span class="comment">#解压安装 </span>
tar -xvJf Python<span class="number">-3.7</span><span class="number">.1</span>.tar.xz 
cd Python<span class="number">-3.6</span><span class="number">.6</span> 
./configure --prefix=/usr/local/bin/python3 
sudo make 
sudo make install 
<span class="comment">#创建软链接 </span>
sudo ln -s /usr/local/bin/python3/bin/python3 /usr/bin/python3 
sudo ln -s /usr/local/bin/python3/bin/pip3 /usr/bin/pip3 
</code></pre>
<h2 id="OS-X"><a href="#OS-X" class="headerlink" title="OS X"></a>OS X</h2></li>
<li>查看版本： <pre><code>python --verison 
python3 --version 
</code></pre></li>
<li>安装<br>安装Homebrew,brew依赖于Xcode <pre><code class="python"><span class="comment">#一般都自带 </span>
xcode-select --install 
<span class="comment">#安装homebrew </span>
/usr/bin/ruby -e <span class="string">"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span> 
<span class="comment">#检查homebrew </span>
brew doctor 
<span class="comment">#安装python </span>
brew install python3 
</code></pre>
</li>
<li>homebrew用法 <pre><code class="python">搜索软件：brew search 软件名，如brew search wget 
安装软件：brew install 软件名，如brew install wget 
卸载软件：brew remove 软件名，如brew remove wget 
brew list 列出已安装的软件 
brew update 更新brew 
brew home 用浏览器打开brew的官方网站 
brew info 显示软件信息 
brew deps 显示包依赖 
brew -v 
brew -h 
</code></pre>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2></li>
<li>检查版本： <pre><code>CMD下： python --version 
or 直接python尝试进入 
</code></pre></li>
<li>安装： <pre><code>#官网下载，安装时选择Add Python to PATH 
http://python.org/downloads/ 
</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Mr.Yang">
            
              <p class="site-author-name" itemprop="name">Mr.Yang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/sniu0320" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:sniu0320@icloud.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.baidu.com/" title="Baidu" target="_blank">Baidu</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.typora.io/" title="Typora" target="_blank">Typora</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr.Yang</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">博客全站字数&#58;</span>
    
    <span title="博客全站字数">4.9k</span>
  
</div>


  <div class="powered-by">
  <i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
    本站访客数:<span id="busuanzi_value_site_uv"></span>
  </span>
  </div>

  <div class="powered-by">Powered By <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>








        







        
      </div>
    </footer>

    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  

  

  

</body>
</html>
